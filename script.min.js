function SwitchImagePreview(e,t){document.getElementById("image").setAttribute("src",e),document.getElementById("viewName").innerText=t}function UpdateImagePosition(){const e=100;var t=PreviewImage.getBoundingClientRect();DragOffsetX>window.innerWidth-e&&(DragOffsetX=window.innerWidth-e),DragOffsetX+t.width<e&&(DragOffsetX=-t.width+e),DragOffsetY>window.innerHeight-e&&(DragOffsetY=window.innerHeight-e),DragOffsetY+t.height<e&&(DragOffsetY=-t.height+e),PreviewImage.style.translate=DragOffsetX+"px "+DragOffsetY+"px"}function DragImage(e,t){DragActive&&(DragOffsetX+=e,DragOffsetY+=t,UpdateImagePosition())}function ZoomImage(e){var t=1;if(e>0){if(ImageScale<=.25)return;t*=.9}else t=1.1;ImageScale*=t;var a=PreviewImage.getBoundingClientRect(),i=a.width*t-a.width,r=a.height*t-a.height,n=(CursorPosX-DragOffsetX)/a.width,s=(CursorPosY-DragOffsetY)/a.height;DragOffsetX-=i*n,DragOffsetY-=r*s,UpdateImagePosition(),PreviewImage.style.transform="scale("+ImageScale+")"}var IMGs=document.getElementById("IMGs"),PreviewImage=document.getElementById("image"),DragActive=!1,DragOffsetX=0,DragOffsetY=0,ImageScale=1,CursorPosX=0,CursorPosY=0,input=document.createElement("input");input.type="file",input.multiple=!0,input.onchange=(e=>{for(let a=0;a<e.target.files.length;a++){var t=new FileReader;t.onload=function(t){var i=document.createElement("div");i.setAttribute("name",e.target.files[a].name),i.setAttribute("src",t.target.result),IMGs.appendChild(i),i.addEventListener("mouseover",e=>{SwitchImagePreview(i.attributes.src.value,i.attributes.name.value)})},t.readAsDataURL(e.target.files[a])}}),input.click(),IMGs.addEventListener("mousedown",e=>{DragActive=!0}),IMGs.addEventListener("mouseup",e=>{DragActive=!1}),IMGs.addEventListener("mousemove",e=>{DragImage(e.movementX,e.movementY)}),IMGs.addEventListener("wheel",e=>{ZoomImage(e.deltaY)}),document.addEventListener("mousemove",e=>{CursorPosX=e.clientX,CursorPosY=e.clientY});